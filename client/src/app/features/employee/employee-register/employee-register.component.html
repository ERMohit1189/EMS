<div class="container">
  <h2>Employee Registration</h2>
  <p class="subtitle">Onboard new staff members.</p>

  <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="form">
    
    <!-- Personal Information -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Personal Information</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-grid">
        
        <mat-form-field>
          <mat-label>Full Name</mat-label>
          <input matInput formControlName="name" required>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Father's Name</mat-label>
          <input matInput formControlName="fatherName" required>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Date of Birth</mat-label>
          <input matInput [matDatepicker]="dobPicker" formControlName="dob" required>
          <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
          <mat-datepicker #dobPicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Blood Group</mat-label>
          <mat-select formControlName="bloodGroup">
            <mat-option *ngFor="let bg of bloodGroups" [value]="bg">{{ bg }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Marital Status</mat-label>
          <mat-select formControlName="maritalStatus">
            <mat-option value="Single">Single</mat-option>
            <mat-option value="Married">Married</mat-option>
          </mat-select>
        </mat-form-field>

      </mat-card-content>
    </mat-card>

    <!-- Contact & Address -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Contact & Address</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-grid">
        
        <mat-form-field>
          <mat-label>Mobile No.</mat-label>
          <input matInput formControlName="mobile" required>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Alternate No.</mat-label>
          <input matInput formControlName="alternateNo">
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Current Address</mat-label>
          <input matInput formControlName="address" required>
        </mat-form-field>

        <mat-form-field>
          <mat-label>State</mat-label>
          <mat-select formControlName="state" required>
            <mat-option *ngFor="let state of states" [value]="state">
              {{ state }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>City</mat-label>
          <mat-select formControlName="city" required>
            <mat-option *ngFor="let city of cities" [value]="city">
              {{ city }}
            </mat-option>
          </mat-select>
        </mat-form-field>

      </mat-card-content>
    </mat-card>

    <!-- Employment Details -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Employment Details</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-grid">
        
        <mat-form-field>
          <mat-label>Designation</mat-label>
          <input matInput formControlName="designation" required>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Date of Joining</mat-label>
          <input matInput [matDatepicker]="dojPicker" formControlName="doj" required>
          <mat-datepicker-toggle matSuffix [for]="dojPicker"></mat-datepicker-toggle>
          <mat-datepicker #dojPicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Nominee Name</mat-label>
          <input matInput formControlName="nominee" required>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Aadhar No</mat-label>
          <input matInput formControlName="aadhar" required>
        </mat-form-field>

        <mat-form-field>
          <mat-label>PAN No</mat-label>
          <input matInput formControlName="pan" required>
        </mat-form-field>

      </mat-card-content>
    </mat-card>

    <!-- Safety Equipment -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Safety Equipment</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-grid">
        
        <mat-checkbox formControlName="ppeKit">PPE Kit Issued</mat-checkbox>

        <mat-form-field *ngIf="employeeForm.get('ppeKit')?.value">
          <mat-label>Kit Number</mat-label>
          <input matInput formControlName="kitNo">
        </mat-form-field>

      </mat-card-content>
    </mat-card>

    <!-- Actions -->
    <div class="form-actions">
      <button mat-stroked-button type="button" (click)="cancel()">Cancel</button>
      <button mat-raised-button color="primary" type="submit" [disabled]="!employeeForm.valid || isLoading">
        Onboard Employee
      </button>
    </div>

  </form>
</div>
